{% extends 'mainpage/base.html' %}
{% load static %}

{% block title %}{{ forum.name }} - Threads{% endblock %}

{% block content %}
<div class="d-flex justify-content-center my-5 px-3">
  <div class="w-100" style="max-width: 720px;">
    <!-- Forum Header -->
    <div class="mb-4 pb-3 border-bottom border-secondary text-center">
      <h2 class="text-info mb-1">
        <i class="bi bi-chat-dots me-2"></i>{{ forum.name }}
      </h2>
      <p class="text-muted">{{ forum.description }}</p>
      <a href="{% url 'thread_create' forum.slug %}" class="btn btn-primary mt-3">
        <i class="bi bi-plus-circle me-2"></i>Start a New Discussion
      </a>
    </div>

    <!-- Thread List -->
    {% if threads %}
    <div class="list-group">
      {% for thread in threads %}
      <a href="{% url 'thread_detail' thread.slug %}" class="list-group-item list-group-item-action mb-3 rounded bg-dark border-secondary text-light shadow-sm">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="mb-1 text-info">{{ thread.title }}</h5>
          <small class="text-muted">{{ thread.created_at|date:"M d, Y" }}</small>
        </div>
        <div class="mt-1">
          <small class="text-light">Started by <strong>{{ thread.author.username }}</strong></small>
        </div>
      </a>
      {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info mt-4 text-center">
      <i class="bi bi-info-circle me-2"></i>No discussions yet. Be the first to start one!
    </div>
    {% endif %}
  </div>
</div>
{% endblock %}
